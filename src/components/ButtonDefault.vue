<template>
	<component :is="tag" class="button-default" :class="buttonClass" :type="isButton ? 'button' : null" :tabindex="tabindex" :aria-label="isButton ? title : null" :title="isButton ? null : title" :href="isButton ? null : href" :target="newTab && !isButton ? '_blank' : null">
		<div class="button-icon" :data-label="label">
			<img v-if="icon" class="icon" :src="icon" :style="getIconTransform" />

			<Icon v-else :name="mapIcons(fontIcon)" :style="getIconTransform" />

			<span v-if="text && text.length > 0" class="text">{{ text }}</span>
		</div>
	</component>
</template>

<script>
import 'vue-awesome/icons';
import Icon from 'vue-awesome/components/Icon';

Icon.register({
	'pencil-alt': {
		width: 512,
		height: 512,
		d: 'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z'
	},
	'taco': {
		width: 50,
		height: 50,
		d: 'M45.8,25.8c0-0.7-0.1-1.4-0.2-2.1c-0.4-1.7-1-3.4-1.7-5c-0.4-1.1-1-2.1-1.7-3c-0.1-0.3-0.3-0.7-0.3-1  c-0.3-1.4-0.6-3-1.1-4.4c-0.4-1-1-2-1.8-2.8c-0.8-1-2-1.7-3.4-1.8c-1.3-0.1-2.5,0-3.7,0.4c-0.1,0-0.3,0.1-0.4,0.1  c-0.3,0.1-0.6,0-0.8,0c-0.7-0.1-1.3-0.3-2-0.6c-0.8-0.3-1.6-0.4-2.4-0.6c-0.3,0-0.4,0-0.7,0s-0.4,0-0.7,0c-1.6,0.1-2.7,0.8-3.5,2.1  c-0.4,0.4-0.6,1-0.8,1.6c0,0.1-0.1,0.3-0.1,0.4c-0.3,0.4-0.6,0.7-1.1,0.8c-0.4,0.1-0.7,0.1-1.1,0.3c-0.8,0.1-1.7,0.7-2.3,1.4  c-0.7,0.8-1.1,2-1.4,3.1c-0.1,0.4-0.3,1-0.3,1.6c0,0.4,0,1,0,1.4c0.1,0.6-0.1,1.1-0.4,1.7c-0.3,0.4-0.6,0.8-1,1.3  c-0.3,0.3-0.7,0.7-1,1c-0.7,0.7-1.1,1.6-1.3,2.5c-0.1,1.3,0,2.3,0.6,3.4c0.3,0.7,0.7,1.4,1,2.1c0.3,0.7,0.4,1.6,0.6,2.4  c0.1,0.7,0.1,1.4,0.1,2.1c0,0.8,0.6,1.4,1.4,1.6c0.8,0,1.7-0.6,1.8-1.4c0-0.4,0-0.8,0-1.3c0-0.6-0.1-1-0.1-1.4  c-0.3-1.4-0.6-2.7-1.1-4c-0.3-0.6-0.6-1.3-0.8-2c-0.1-0.4-0.1-0.8-0.1-1.3c0-0.3,0.1-0.4,0.3-0.6c0.4-0.3,0.8-0.6,1.1-1  c1-1,1.7-2.1,2.1-3.5c0.1-0.4,0.3-1,0.3-1.6c0-0.4,0-0.8,0-1.3c0.1-0.8,0.3-1.6,0.6-2.4c0.3-0.6,0.7-0.8,1.3-1c1-0.1,1.8-0.4,2.7-1  c0.7-0.6,1.1-1.3,1.6-2c0.3-0.3,0.4-0.7,0.6-1.1c0.3-0.6,0.7-0.8,1.3-1c0.7-0.1,1.3,0,1.8,0.1c0.7,0.1,1.4,0.4,2.1,0.7  c0.6,0.1,1.1,0.3,1.7,0.3c0.7,0,1.3-0.1,2-0.4c0.6-0.3,1.3-0.4,1.8-0.4c1,0,1.8,0.3,2.4,1.1c0.2,0.3,0.4,0.6,0.6,0.9  c0.4,0.6,0.8,1.4,0.8,1.6c0.2,0.3-1.1-0.5-3.2-1.1c-2.2-0.6-2.2,0.3-4,0.7s-2.4-0.9-3.7-0.6c-1.3,0.3-2.1,2.8-2.7,3.4  s-2.9,0.6-4,1.7c-0.9,1-0.8,5.4-1.1,6c-0.5,1-2.9,2.2-3.2,3.1c-0.2,0.9,0.7,2.6,1.5,4.3c1,2.3,0.9,2.9,0.3,7.3  c-0.5,3.5-2.3,5.3-4.3,5.1c-0.7,0-1.3-0.3-1.8-0.6c-0.6-0.4-1.1-1-1.6-1.6C10,38.7,9.4,37.4,9,36c-0.4-1.1-0.6-2.3-0.7-3.4  c0-0.7-0.1-1.3-0.1-2c0-0.8,0-1.6,0-2.3c0-1.6,0.3-3,0.7-4.5c0.4-1.6,1-2.8,1.8-4.1c0.1-0.4,0.4-0.7,0.7-1c0.4-0.6,0.6-1.1,0.3-1.7  c-0.1-0.6-0.7-0.8-1.3-1c-0.6-0.1-1.1,0.1-1.6,0.7c-1.1,1.6-2,3.1-2.7,5c-0.4,1.4-0.8,2.7-1,4.1c0,0.6-0.1,1.3-0.1,1.8  c0,0.1,0,0.4,0,0.6c0,0.7,0,1.4,0,2.1c0,0.3,0,0.4,0,0.7c0.1,2,0.4,4,1,5.8c0.4,1.6,1,3,1.8,4.2c1,1.4,2.1,2.7,3.7,3.4  c0.4,0.3,0.8,0.4,1.3,0.6c0.6,0.3,1.1,0.3,1.8,0.4c0.7,0.1,1.4,0.3,2.1,0.3c0.1,0,0.1,0,0.1,0c0.4,0,0.8,0,1.3,0c0.1,0,0.4,0,0.7,0  c0.8-0.1,1.7-0.3,2.5-0.6c1.7-0.4,3.1-1.1,4.7-2c2.5-1.3,5-2.8,7.4-4.4c1.7-1.1,3.4-2.3,5.1-3.5c1.4-1.1,2.8-2.3,4.1-3.4  c0.9-0.9,1.7-1.5,2.4-2.6c0.1-0.1,0.1-0.3,0.2-0.4C45.7,28,45.8,26.9,45.8,25.8z'
	},
	'identity': {
		width: 50,
		height: 50,
		d: 'M37.6,8.7c-0.2,0-0.3,0-0.5-0.1C32.9,6.4,29.3,5.5,25,5.5c-4.3,0-8.4,1-12.1,3.1c-0.5,0.3-1.2,0.1-1.5-0.4  c-0.3-0.5-0.1-1.2,0.4-1.5c4-2.2,8.5-3.3,13.1-3.3c4.6,0,8.7,1,13.1,3.3c0.5,0.3,0.7,0.9,0.5,1.5C38.4,8.5,38,8.7,37.6,8.7z   M6.6,20.1c-0.2,0-0.4-0.1-0.6-0.2c-0.5-0.3-0.6-1-0.3-1.5c2.1-3,4.9-5.4,8.1-7.1c6.8-3.5,15.5-3.5,22.4,0c3.3,1.7,6,4,8.1,7  c0.3,0.5,0.2,1.2-0.3,1.5c-0.5,0.3-1.2,0.2-1.5-0.3c-2-2.7-4.4-4.9-7.4-6.4C29,10,21,10,14.8,13.2c-2.9,1.5-5.4,3.7-7.4,6.4  C7.3,19.9,6.9,20.1,6.6,20.1z M20.1,46.2c-0.3,0-0.6-0.1-0.8-0.3c-1.9-1.9-2.9-3.1-4.4-5.7c-1.5-2.7-2.3-5.9-2.3-9.4  c0-6.4,5.5-11.7,12.3-11.7s12.3,5.2,12.3,11.7c0,0.6-0.5,1.1-1.1,1.1s-1.1-0.5-1.1-1.1c0-5.2-4.5-9.5-10.1-9.5s-10.1,4.3-10.1,9.5  c0,3.1,0.7,6,2,8.3c1.4,2.5,2.3,3.6,4,5.2c0.4,0.4,0.4,1.1,0,1.5C20.7,46.1,20.4,46.2,20.1,46.2z M35.7,42.2c-2.6,0-4.9-0.7-6.7-1.9  c-3.2-2.2-5.2-5.7-5.2-9.5c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1c0,3.1,1.6,5.9,4.2,7.7c1.5,1,3.3,1.5,5.5,1.5  c0.5,0,1.4-0.1,2.3-0.2c0.6-0.1,1.1,0.3,1.3,0.9c0.1,0.6-0.3,1.1-0.9,1.3C37.1,42.2,36,42.2,35.7,42.2z M31.3,46.7  c-0.1,0-0.2,0-0.3,0c-3.4-1-5.7-2.2-8.1-4.6c-3-3-4.7-7-4.7-11.3c0-3.5,3-6.4,6.7-6.4s6.7,2.9,6.7,6.4c0,2.3,2,4.2,4.5,4.2  c2.5,0,4.5-1.9,4.5-4.2c0-8.2-7-14.8-15.7-14.8c-6.2,0-11.8,3.4-14.3,8.7c-0.8,1.8-1.3,3.8-1.3,6.1c0,1.7,0.2,4.4,1.5,7.8  c0.2,0.6-0.1,1.2-0.6,1.4c-0.6,0.2-1.2-0.1-1.4-0.6c-1.1-2.8-1.6-5.7-1.6-8.6c0-2.6,0.5-5,1.5-7c2.9-6,9.3-10,16.3-10  c9.9,0,17.9,7.6,17.9,17c0,3.5-3,6.4-6.7,6.4s-6.7-2.9-6.7-6.4c0-2.3-2-4.2-4.5-4.2s-4.5,1.9-4.5,4.2c0,3.7,1.4,7.2,4.1,9.8  c2.1,2,4,3.2,7.1,4c0.6,0.2,0.9,0.8,0.8,1.3C32.2,46.4,31.8,46.7,31.3,46.7z'
	}
});

export default {
	name: 'ButtonDefault',
	components: {
		Icon
	},
	props: {
		text: String,
		label: String,
		title: String,
		href: String,
		icon: String,
		newTab: {
			type: Boolean,
			default: false
		},
		fontIcon: String,
		tag: {
			type: String,
			default: 'button'
		},
		buttonColor: {
			type: String,
			default: 'default'
		},
		tabindex: {
			type: Number,
			default: 0
		},
		iconTransform: Object
	},
	methods: {
		mapIcons (icon) {
			if (icon) {
				if (icon.length === 1) {
					return icon[0];
				}
				return icon;
			}
			return 'cog';
		}
	},
	computed: {
		buttonClass () {
			let classString = this.label && this.label.length > 0
				? '-with-label'
				: '';

			classString += this.text && this.text.length > 0
				? ' -with-text'
				: '';

			classString += ` -color-${ this.buttonColor }`;

			return classString;
		},
		getIconTransform () {
			if (this.iconTransform) {
				let x = this.iconTransform.x;
				let y = this.iconTransform.y;

				return `transform: translate(${ x || 0 }, ${ y || 0 })`;
			}

			return null;
		},
		isButton () {
			return this.tag === 'button';
		}
	}
};
</script>

<style src="@/styles/components/button-default.scss" lang="scss"></style>