@import '../mixins/variables';

@keyframes outline {
	0% {
		stroke-dashoffset: 1px;
		stroke-dasharray: 1px;
	}

	40% {
		stroke-dasharray: 940px;
		stroke-dashoffset: 470px;
		// stroke-dashoffset: 470px;
		// opacity: 0;
	}

	100% {
		stroke-dashoffset: 1px;
		stroke-dasharray: 1px;
	}
}

@keyframes fill-in {
	0% {
		fill: rgba($color-charcoal, 0);
	}

	100% {
		fill: $color-charcoal;
	}
}

@keyframes fade-in {
	0% {
		opacity: 0;
	}

	100% {		
		opacity: 1;
	}
}

.spinner {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate3d(-50%, -50%, 0) scale(0.25);
	z-index: 1000;

	width: 100vw;
	height: (100vw * 2 / 3);
	min-height: 72vh;
	max-height: 100%;

	// opacity: 0;

	transition: all 1s $transition-spinner-delay, transform $transition-spinner;
	will-change: opacity, transform;

	animation: fade-in 0.5s 1s forwards;

	&.-loaded {
		transform: translate3d(-50%, -50%, 0) scale(1);

		opacity: 0;
		visibility: hidden;

		.text-stroke {
			stroke-width: 4px;

			animation: outline 0.35s reverse !important;
		}
	}

	.spinner-icon {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate3d(-50%, -50%, 0);

		display: block;
		width: 100%;
		min-width: 150vh;
		max-width: 1600px;
	}

	.text {
		transform: rotateZ(0);

		@include font-mask;
		dominant-baseline: central;
	}

	.text-fill {
		opacity: 0;

		animation: fade-in 20s 1s forwards;
	}

	.text-stroke {
		fill: rgba(black, 0);
		stroke-width: 16px;

		animation: outline 4s 1s infinite;
		transition: stroke-width $transition-spinner;
	}
}